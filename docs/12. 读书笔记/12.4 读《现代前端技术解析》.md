# 读《现代前端技术解析》

这本书介绍了协议、Web 安全、浏览器渲染机制、前端交互框架、同构应用、JS全栈应用等内容

## Web 安全

### XSS 攻击
XSS(Cross Site Script) 跨站脚本攻击, 分为存储型、反射型、DOM型三种.

**存储型XSS**:

前端提交的数据未经处理直接存储到数据库中, 从数据库重新读取后插入页面时, 有可能发生 XSS.

```html
<div>{{ content }}</div>
```

以上模板引擎中如果 `content` 变量为: `<script>window.location.href = 'www.ad.com'</script>`, 
则页面会渲染为:

```html
<div><script>window.location.href = 'www.ad.com'</script></div>
```

当用户访问时, 会重定向到的广告页面.

**反射型XSS**:

从URL中读取参数, 直接渲染到页面时会发生 XSS.

```javascript
let name = req.query.name;
this.body = `<div>${name}</div>`;
```

当 `name` 的值为: `<script>window.location.href = 'www.baidu.com'</script>` 时, 会重定向到的广告页面.

**DOM型XSS**: 

和存储型类似:

```html
<div class="hey {{ helloClass }}">Hello</div>  
```

当 `helloClass` 的值为: `"></div><script>window.location.href = 'www.baidu.com'</script><div class="b` 时, DOM会解析为:

```html
<div class="hey "></div><script>window.location.href = 'www.baidu.com'</script><div class="b">Hello</div>  
```

此时当用户访问时, 会重定向到的广告页面.


## SQL注入攻击
SQL注入攻击是因为页面提交的数据未经处理直接拼装到SQL语句中执行, 造成数据泄漏等问题.

## CSRF
CSRF(Cross-site Request Forgery) 跨站请求伪造, 通过钓鱼站点获取用户用户登录信息, 之后利用调用源站点数据.

解决办法: 通过加密计算的 Token 验证.

## DNS劫持
DNS是指攻击者通过某些手段获取了某个域名的DNS解析记录控制权, 进而修改域名的解析结果.

## HTTP劫持
在用户浏览器和服务器之间传输数据时监控数据包, 当满足一定条件时就会在正常的数据包中插入或修改恶意代码, 
或者以弹窗的形式在页面展示广告等.

